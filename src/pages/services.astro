---
import MainLayout from "@/layouts/MainLayout.astro";
import MainSection from "@components/ui/blocks/MainSection.astro";
import LeftSection from "@components/ui/blocks/LeftSection.astro";
import RightSection from "@components/ui/blocks/RightSection.astro";

// Import necessary images
import cloudImage from "@images/cloud.jpg";
import platformImage from "@images/platform.jpg";
import kubernetesImage from "@images/kubernetes.jpg";

import { SITE } from "@data/constants";

interface Article {
  isRightSection: boolean;
  title: string;
  subTitle: string;
  content: string;
  btnExists?: boolean;
  btnTitle?: string;
  btnURL?: string;
  single?: boolean;
  img?: any;
  imgAlt?: string;
  imgOne?: any;
  imgOneAlt?: string;
  imgTwo?: any;
  imgTwoAlt?: string;
}

const articles: Article[] = [
  {
    isRightSection: true,
    title: "Platform Engineering",
    subTitle: "Empower your teams with self-service, reliability, and speed.",
    content:
      "From platform design to GitOps-driven workflows, our approach strengthens your core foundations so you can scale with confidence.",
    single: true,
    imgOne: platformImage,
    imgOneAlt: "",
    btnExists: false,
    btnTitle: "Learn More",
    btnURL: "services/custom-solutions",
  },
  {
    isRightSection: false,
    title: "Cloud Infrastructure",
    subTitle:
      "Build, migrate and optimise your cloud infrastructure so it's reliable, easy to maintain and scale.",
    content:
      "We pride ourselves on building infrastructure that adapts to evolving needs and supports growth.",
    img: cloudImage,
    imgAlt: "",
    btnExists: false,
    btnTitle: "Learn More",
    btnURL: "services/cloud-migration",
  },
  {
    isRightSection: true,
    title: "Kubernetes Consulting",
    subTitle:
      "Make Kubernetes boring. Kubernetes doesnâ€™t have to be complex, it should accelerate, not slow down engineering teams.",
    content:
      "We take on the complexity for you, so you can build, without getting bogged down.",
    single: true,
    imgOne: kubernetesImage,
    imgOneAlt: "",
    btnExists: false,
    btnTitle: "Learn More",
    btnURL: "services/custom-solutions",
  },
];

const pageTitle: string = `Services | ${SITE.title}`;
---

<MainLayout
  title={pageTitle}
  structuredData={{
    "@context": "https://schema.org",
    "@type": "WebPage",
    "@id": "https://coresolutions.ltd/services",
    url: "https://coresolutions.ltd/services",
    name: "Core Solutions - Services",
    description:
      "We provide services that streamline cloud migration, build scalable platforms, and optimise existing infrastructure to enhance performance and drive business growth.",
    isPartOf: {
      "@type": "WebSite",
      url: SITE.url,
      name: SITE.title,
      description: SITE.description,
    },
    inLanguage: "en-GB",
  }}
>
  <!--MainSection is the introductory section of the page, it also contains a CTA button-->
  <MainSection
    title="Aligning Expertise with Your Vision"
    subTitle="At Core Solutions, we specialise in delivering comprehensive solutions core to your business."
    subTitle2="We're committed to guiding your business through every stage of your journey, from strategy and architecture to implementation and optimisation."
  />
  <!-- RightSection and LeftSection contain details about various services along with pertinent imagery.
  They alternate for variety in design.
  The 'btnExists' property is used to toggle the display of a button in these sections.
  When btnExists={true}, a button is displayed.
  This can be used to link to more detailed information or related resources.
  RightSection can also conditionally render one or two images based on the 'single' property.
  If 'single' is true, it displays one image, otherwise it displays two.
  -->
  {
    articles.map((article) => {
      return article.isRightSection ? (
        <RightSection
          title={article.title}
          subTitle={article.subTitle}
          single={article.single}
          content={article.content}
          imgOne={article.imgOne}
          imgOneAlt={article.imgOneAlt}
          imgTwo={article.imgTwo}
          imgTwoAlt={article.imgTwoAlt}
          btnExists={article.btnExists}
          btnTitle={article.btnTitle}
          btnURL={article.btnURL}
        />
      ) : (
        <LeftSection
          title={article.title}
          subTitle={article.subTitle}
          content={article.content}
          img={article.img}
          imgAlt={article.imgAlt}
          btnExists={article.btnExists}
          btnTitle={article.btnTitle}
          btnURL={article.btnURL}
        />
      );
    })
  }
</MainLayout>
